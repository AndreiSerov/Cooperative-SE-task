## План выполнения третьего набора требований

1. Прочитать требования (5 мин.)

2. Провести исследование
    1. Провести исследование библиотеки [log4j](https://logging.apache.org/log4j/kotlin/)(**R3.1**) - 30 мин  
    2. Провести исследование[h2db](http://www.h2database.com/html/main.html ) (**R3.3**) - 30 мин  
    3. Провести исследование библиотеки для исключения  SQLI 
    [PreparedStatement](http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)(**R3.7**) - 30 мин
    4. Проовести исследование принципов [SOLID](https://clean-code.org/how-to-write-code-solidno.html)(**R3.10**) - 2 часа
    5. Провести исследование и узнать что такое [переменные среды](https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getenv-java.lang.String-)(**R3.11**) - 30 мин  
    6. Провести исследование и узнать о [доменных моделях](https://stackoverflow.com/questions/1674209/what-is-the-difference-between-business-class-and-domain-class-what-is-meant-by) 
    и [DAO](https://en.wikipedia.org/wiki/Data_access_object) (**R3.9**) - 1 час  - 30 мин

3. Добавить в программу библиотеку log4j логирование:(**R3.1**, (**R3.2**)) - 2 часа
    1. Приложение логирует в стандартный поток вывода(stdout) все введенные 
    параметры, процесс принятия решения с пояснением причины, возникающие 
    исключения со стректрейсом. - 90 мин  
    2. Добавить файл `log_history.log`, для того чтобы приложение логировало в 
    него тоже самое, что и в `stdout` - 30 мин 

4. Переделываем работу приложения так, чтобы оно хранило данные во встраиваемой СУБД - 2 часа
    1. Подключаем СУБД `H2` (**R3.3**) - 30 мин
    2. Создаем схему данных, которая включает по крайней мере 3 таблицы,
    внешних ключа, один уникальный ключ (логин), один индекс (пользователь, роль) 
    (**R3.4**) - 30 мин
    3. Реализовать проверку файла БД при старте приложения: - 60 мин
        1. Если он найден  - инициализируем схему (**R3.5**)
        2. если Бд не найдена в папке, заполняем тестовыми
          данными через миграцию (**R3.6**)

5. Изменяем программу для работы с БД. - 60 мин
    1. Выборка данных о пользователе и ролях  и вставка данных  должны исключать  `SQL Injection`.(**R3.7**)(**R3.8**) - 30 мин
    1. Используем для выборки данных PreparedStatement - 30 мин

6. Подключаем для инициализации схемы БД [flyway](http://flywaydb.org/getstarted/firststeps/api.html)(**R3.5**) - 40 мин

7. Проводим рефакторинг кода на использование `Data Access Layer` - DAL и `Anemic Data Model` (**R3.9**)(**R3.10**) - 60 мин

8. Приводим код приложения в соответствии с SOLID(**R3.10**) - 30 мин

9. Проводим рефакторинг кода так, чтобы настройки БД  передавались через переменные окружения `System.getenv`()(**R3.11**) - 30 мин


### Исследовательские задачи
1. `log4j` 
    1. Ознакомиться с [документацией](http://logging.apache.org/log4j/2.x/manual/configuration.html)
    2. Разобраться с подключением библиотеки к проекту 
    3. Разобраться с выводом ошибок в файл или стек
    4. В результате исследовательской  задачи мы сможем использовать библеотеку `log4j`.
    
2.  `h2` 
    1. Ознакомиться с [документацией](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html) 
    2. Разобраться с подключением базы данных к проекту
    3. Разобраться с запросами к БД
    4. В результате исследовательской  задачи мы сможем использовать базу данных `h2`.
 
3. `PrepareStatement` 
    1. Ознакомиться с [документацией](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)
    2. Разобраться как защититься от `SQL Injection` 
    3. В результате исследовательской  задачи мы сможем использовать `PrepareStatement`
   
4. `flyway`
    1. Ознакомиться с [документацией](https://flywaydb.org/getstarted/firststeps/api.html)
    2. Разобраться с тем, как она помогает с миграцией БД
    3. В результате исследовательской  задачи мы сможем использовать `flyway`
 
5. `DAO`, `DAL`
    1. Когда и как используется DAO
    2. Когда и где используется DAL
    3. Чем отличаются DAO и DAL
    4. В результате исследовательской  задачи мы сможем выполнить 7-ой пункт плана
 
